# サーバのポート
port: 8000

# データ保持の手段（memory or mongodb）
#storeType: memory
storeType: mongodb

# 【注意】
# この設定値は必ず書き換え、他人に漏らさないこと。
# 考えるのが面倒な方は下記のサイトで生成したものを設定すると良いです。
# https://hogehoge.tk/guid/
# https://uuid.doratool.com/
#
# 【説明】
# データストアの中身は「コレクション名」が分かっていればクライアントからでも直接アクセスすることができます。
# Quoridornでは、クライアントから直接アクセスされたくないコレクション（便宜上「シークレットコレクション」と呼びます）
# を扱うために、この設定値をコレクション名の末尾に使用します。
#
# 【運用上の補足】
# ・既に稼働実績のあるQuoridornサーバのこの設定値を変更する場合
#   ・データ保持の手段がmemoryの場合
#     → サーバ停止＝データストアの全消滅なので、特に気にしなくて問題ありません。
#   ・データ保持の手段がMongoDBの場合
#     → 部屋データはプログラム制御にて自動的に生成・削除されますが、シークレットコレクション(15行目参照)は削除の仕組みがありません。
#       書き換え前にこの設定値を名前の末尾に持つコレクション（これがシークレットコレクションです）を運用によって削除してください。
secretCollectionSuffix: c8c4b7f3-ce60-41ba-a0d3-e90876d09c1a

# MongoDBの接続文字列
mongodbConnectionStrings: mongodb://localhost:27017/

# 設置できる部屋の数
roomNum: 100

# 無人になった部屋が削除されるまでの期間（単位：分）初期値：3日間(4320)
# 無限にする場合は -1 を設定
# ※ 未実装
roomAutoRemove: 4320

# タッチ状態から自動に開放されるまでのタイムアウト時間（単位：分）
# この設定値は実質的に「ログイン画面」から表示した入力画面の有効期間です。
# （TRPG卓用のコレクションにおけるタッチ状態はGM権限によって解除することが可能です）
#
# 【注意】
# この設定値をあまり短くしない方が良いです。
# この設定値は実質的にクライアント側の「編集／追加画面」の有効時間であり、あまり短くするとすぐに画面の入力内容が無効になってしまいます。
# 逆にあまりに長い場合、例えば部屋を作成中に異常終了したクライアントが操作していた部屋番号がこのタイムアウト時間の間誰も触れなくなります。
#
# 【説明】
# Quoridornでは何かを追加しようとするか更新しようとした時、対象データを編集中の状態にします。
# これを「タッチ状態」と呼びます。
# 通常この「タッチ状態」になる場合、クライアント側では「～編集画面」や「～追加画面」が開いています。
#
# Quoridornの場合、このタッチ状態となったデータは他の人からは操作できなくなる「排他制御」をかけています。
# 「タッチ状態」への切り替えや「タッチ状態からの解放」はクライアントからリクエストされ、通常はそれらはセットで行われます。
# （編集画面や追加画面が閉じられたら解放されるわけです）
#
# しかし、クライアントが異常終了した場合、「タッチ状態からの解放」は行われず、これを他のクライアントから行うこともできません。
# サーバ側では定期的に、全てのコレクションに対して「あまりに長いタッチ状態」のデータに対して「タッチ状態からの解放」を行います。
# それゆえ、この設定値は「対象データを編集／追加する画面が有効な時間」とも言えます。
systemCollectionTouchTimeout: 1440